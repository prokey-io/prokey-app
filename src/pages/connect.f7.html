<template>
    <div class="page" data-name="connect">
        <div class="page-content text-center">
            <img src="${connect_image}" width="280px" height="280px" />
            <div class="connect-content">
                <h2>Connect Your Prokey</h2>
                <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut
                </p>
            </div>
            <a @click=${connect_click} class="col button button-large button-fill">Check Device</a>
        </div>
    </div>
</template>

<script>
    import connect_image from '../assets/img/connect.png';
    import my_app from '../js/app.js';

    export default (props, { $store, $f7 }) => {

        const connect_click = async () => {
            let res = await $store.state.device.TransportConnect();
            console.debug(res);
            if (res.success === true)
            {
                $f7.views.main.router.navigate('/home/');
            }
        }

        return $render;
    }
</script>